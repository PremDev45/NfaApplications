//@ui5-bundle nfaapproval/Component-preload.js
sap.ui.predefine("nfaapproval/Component", ["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("nfaapproval.Component",{metadata:{manifest:"json"}})});
sap.ui.predefine("nfaapproval/ext/controller/Approve", ["sap/m/MessageToast"],function(e){"use strict";function t(){debugger;if(sap.ui.getCore().byId("nfaapproval::NfaDetailsObjectPage--fe::CustomSubSection::Justification1--GenTextArea").getValue()==""){let e=new sap.m.MessageStrip({text:"Please enter Comments before any Action.",showCloseButton:true,type:"Information",showIcon:true,type:"Error"});let t=new sap.m.Dialog({title:"Error Messages",contentWidth:"400px",type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:e,beginButton:new sap.m.Button({text:"Close",press:function(){t.close()}}),afterClose:function(){t.destroy()}});t.open();return false}return true}return{Approve:async function(o){debugger;if(t()){sap.ui.core.BusyIndicator.show(0);let t="ApproversAction";let r=o.getModel().bindContext(`/${t}(...)`);r.setParameter("NfaNumber",o.getObject().NfaNumber);r.setParameter("Action","Approve");await r.execute();let a=r.getBoundContext();let n=a.getObject();e.show("Custom handler invoked.");window.history.back();setTimeout(()=>{location.reload();sap.ui.core.BusyIndicator.hide()},500);return}},Reject:async function(o){debugger;if(t()){sap.ui.core.BusyIndicator.show(0);let t="ApproversAction";let r=o.getModel().bindContext(`/${t}(...)`);r.setParameter("NfaNumber",o.getObject().NfaNumber);r.setParameter("Action","Reject");await r.execute();let a=r.getBoundContext();let n=a.getObject();e.show("Custom handler invoked.");window.history.back();setTimeout(()=>{location.reload();sap.ui.core.BusyIndicator.hide()},500);return}},NedForClarification:async function(o){debugger;if(t()){sap.ui.core.BusyIndicator.show(0);let t="ApproversAction";let r=o.getModel().bindContext(`/${t}(...)`);r.setParameter("NfaNumber",o.getObject().NfaNumber);r.setParameter("Action","Need For Clarification");await r.execute();let a=r.getBoundContext();let n=a.getObject();e.show("Custom handler invoked.");window.history.back();setTimeout(()=>{location.reload();sap.ui.core.BusyIndicator.hide()},500);return}}}});
sap.ui.predefine("nfaapproval/ext/controller/ObjectPage.controller", ["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("nfaapproval.ext.controller.ObjectPage",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},onAfterRendering:function(e){debugger;sap.ui.getCore().byId("nfaapproval::NfaDetailsObjectPage--fe::FooterBar::CustomAction::Approve").setType("Success");sap.ui.getCore().byId("nfaapproval::NfaDetailsObjectPage--fe::FooterBar::CustomAction::Reject").setType("Negative");sap.ui.getCore().byId("nfaapproval::NfaDetailsObjectPage--fe::FooterBar::CustomAction::NedForClarification").setType("Critical")},routing:{onBeforeBinding:async function(e){debugger;let t=new sap.m.TextArea({value:"{Comments}",rows:5,width:"100%",editable:true,placeholder:"Enter your justification..."});let a=sap.ui.getCore().byId("nfaapproval::NfaDetailsObjectPage--fe::FormContainer::Justification");if(a){a.addContent(t)}}}}})});
sap.ui.predefine("nfaapproval/ext/fragment/Attachments", ["sap/m/MessageToast"],function(e){"use strict";return{onPress:function(t){e.show("Custom handler invoked.")},getIconSrc:async function(e){debugger;return sap.m.plugins.UploadSetwithTable.getIconForFileType(e)},onPluginActivated:async function(e){debugger;this.oUploadPluginInstance=e.getParameter("oPlugin")},openPreview:async function(e){debugger;const t=e.getSource();const n=t.getBindingContext();if(n&&this.oUploadPluginInstance){this.oUploadPluginInstance.openFilePreview(n)}},onRemoveHandler:async function(e){debugger;const t=e.getSource().getParent();const n=t.getBindingContext();try{await n.delete()}catch(e){console.error("Error deleting row:",e)}},beforeInitiatingItemUpload:async function(e){debugger;const t=e.getSource().getUploader();t.setUploadUrl("")},onBeforeUploadStart:function(t){debugger;const n=t.getSource().getParent();const o=n.getModel();const i=t.getParameter("item");const a=n.getBinding("items");const r=i.getFileObject();a.create({FileName:r.name,MediaType:r.type,Size:r.size});o.submitBatch("attachmentsGroup");a.attachEventOnce("createCompleted",function(t){const o=t.getParameter("context");const a=n.getDependents()[0];const r=a.getUploader();const c=this.getModel().sServiceUrl+o.getPath().slice(1)+"/Content";r.setUploadUrl(c);r.uploadItem(i);e.show("Attachments Added");o.setProperty("url",c).then(function(){n.getBindingContext().requestSideEffects([{$NavigationPropertyPath:"Attachments"}])})})},isNotImage:function(e){debugger;if(e.contains("image")||e.contains("IMAGE"))return true;return false}}});
sap.ui.predefine("nfaapproval/ext/fragment/Justification", ["sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/core/mvc/Controller"],function(i,t,o){"use strict";return{onPress:function(i){debugger;var o=this;if(!this._oJustificationDialog){t.load({name:"nfaapproval.ext.fragment.Justification",controller:this}).then(function(t){debugger;o._oJustificationDialog=t;var e=i.getBinding().getBoundContext();o._oJustificationDialog.setBindingContext(e);o.getRouting().getView().addDependent(t);o._oJustificationDialog.mAggregations.items[0].open()})}else{this._oJustificationDialog.mAggregations.items[0].open()}},onCloseJustification:function(i){debugger;if(this._oJustificationDialog.mAggregations.items[0])this._oJustificationDialog.mAggregations.items[0].close()}}});
sap.ui.predefine("nfaapproval/ext/fragment/WorkflowHistory", ["sap/m/MessageToast"],function(e){"use strict";return{onPress:function(e){debugger;return new sap.m.GroupHeaderListItem({title:"Level "+e.key})}}});
sap.ui.require.preload({
	"nfaapproval/ext/fragment/Attachments.fragment.xml":'<core:FragmentDefinition xmlns:upload="sap.m.upload" xmlns:plugins="sap.m.plugins" xmlns:core="sap.ui.core"  xmlns="sap.m" xmlns:macros="sap.fe.macros"  ><VBox id="appr_IDGenVBox" core:require="{ handler: \'nfaapproval/ext/fragment/Attachments\'}"><Table\n\t\t\t\tid="apprtable-uploadSet"\n\t\t\t\twidth="auto"\n\t\t\t\tfixedLayout="false"\n\t\t\t\tinset="true"\n\t\t\t\tautoPopinMode="true"\n\t\t\t\tsticky="HeaderToolbar,ColumnHeaders"\n\t\t\t\t\titems="{\n\t\t\t\t\t\t\t\tpath: \'NfaDetailsToNfaAttachments\',\n\t\t\t\t\t\t\t\tparameters: {\n\t\t\t\t\t\t\t\t\t$orderby: \'createdAt desc\'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateShareable: false}"\n\t\t\t\t><headerToolbar><OverflowToolbar id="appr_IDGenOverflowToolbar1"><ToolbarSpacer id="apprToolbarSpacer"/><ToolbarSeparator id="appr_IDGenToolbarSeparator" /><upload:ActionsPlaceholder id="appruploadButton" placeholderFor="UploadButtonPlaceholder" /></OverflowToolbar></headerToolbar><dependents><plugins:UploadSetwithTable id="appr_IDGenUploadSetwithTable" \n\t\t\t\t\t\tbeforeUploadStarts="handler.onBeforeUploadStart"\n\t\t\t\t\t\tuploadUrl=""\n\t\t\t\t\t\thttpRequestMethod="Put"\n\t\t\t\t\t\tmultiple="true"\n\t\t\t\t\t\tbeforeInitiatingItemUpload="handler.beforeInitiatingItemUpload"\n\t\t\t\t\t\tuploadCompleted="onUploadCompleted"\n\t\t\t\t\t\tonActivated="handler.onPluginActivated"\n\t\t\t\t\t\tcloudFilePickerEnabled="true"\n\t\t\t\t\t\tuploadEnabled="false"\n\t\t\t\t\t\tactions="uploadButton"><plugins:rowConfiguration><upload:UploadItemConfiguration id="appr_IDGenUploadItemConfiguration1" \n\t\t\t\t\t\t\tfileNamePath="FileName"\n\t\t\t\t\t\t\t\tmediaTypePath="MediaType"\n\t\t\t\t\t\t\t\turlPath="Url"\n\t\t\t\t\t\t\t\tfileSizePath="Size"></upload:UploadItemConfiguration></plugins:rowConfiguration><plugins:uploader><upload:UploaderTableItem id="appr_IDGenUploaderTableItem" httpRequestMethod="Put"></upload:UploaderTableItem></plugins:uploader></plugins:UploadSetwithTable></dependents><columns><Column id="apprfileName" importance="High"><header><Label id="appr_IDGenLabel" text="File Name" /></header></Column><Column id="apprfileSize"><header><Label id="appr_IDGenLabel4" text="File Size" /></header></Column><Column id="apprlastModified"><header><Label id="appr_IDGenLabel5" text="Last Modified" /></header></Column><Column id="appractionButton" importance="High" /></columns><items><ColumnListItem id="appr_IDGenColumnListItem1"\n\t\t\t\t\t><cells><HBox id="appr_IDGenHBox"><core:Icon id="appr_IDGenIcon"\n\t\t\t\t\t\t\t\t\tsrc="{parts: [\'MediaType\',\'FileName\'], formatter: \'handler.getIconSrc\' }"\n\t\t\t\t\t\t\t class="sapMUSTItemImage sapMUSTItemIcon"\n\t\t\t\t\t\t\t\t/><VBox id="appr_IDGenVBox1"\n\t\t\t\t\t\t\t\t\tclass="sapUiTinyMargin sapUiSmallMarginBegin"\n\t\t\t\t\t\t\t\t><Link id="appr_IDGenLink"\n\t\t\t\t\t\t\t\t\t\ttext="{FileName}"\n\t\t\t\t\t\t\t\t\t\tpress="handler.openPreview"\n\t\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginBottom"\n\t\t\t\t\t\t\t\t\t/><Text id="appr_IDGenText" text="{MediaType}" /></VBox></HBox><Text id="appr_IDGenText6" text="{Size}" /><VBox id="appr_IDGenVBox2"><Text id="appr_IDGenText14" text="{createdBy}" /><Text id="appr_IDGenText15"\n\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginTop"\n\t\t\t\t\t\t\t\t\ttext="{createdAt}"\n\t\t\t\t\t\t\t\t/></VBox><Button id="appr_IDGenButton"\n\t\t\t\t\t\t\tenabled ="false"\n\t\t\t\t\t\t\t\tclass="sapUiTinyMarginBegin"\n\t\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\t\ticon="sap-icon://decline"\n\t\t\t\t\t\t\t\tpress="handler.onRemoveHandler"\n\t\t\t\t\t\t\t/></cells></ColumnListItem></items></Table></VBox></core:FragmentDefinition>',
	"nfaapproval/ext/fragment/Justification.fragment.xml":'<core:FragmentDefinition xmlns:commons="sap.suite.ui.commons" xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros"><VBox id="appr_IDGenVBox3" core:require="{ handler: \'nfaapproval/ext/fragment/Justification\'}"><Dialog id="appr_IDGenDialog"\n        title="Justification"\n\t\tdraggable="true"\n\t\tresizable="true"\n        contentWidth="500px"\n\t\t><commons:Timeline \n\t\t\tid="appridTimeline"\n\t\t\tenableDoubleSided="true"\n\t\t\tgrowingThreshold="0"\n\t\t\tsortOldestFirst="true"\n\t\t\tcontent="{path: \'NfaDetailsToNfaCommentsHistory\'}"><commons:content><commons:TimelineItem \n\t\t\t\t\tid="appridTemplateItem"\n\t\t\t\t\tdateTime="{createdAt}"\n\t\t\t\t\ttext="{Comments}"\n\t\t\t\t\tuserName="{createdBy}"></commons:TimelineItem ></commons:content></commons:Timeline ><endButton><Button id="appr_IDGenButton1" text="Close" press="handler.onCloseJustification"/></endButton></Dialog></VBox></core:FragmentDefinition>',
	"nfaapproval/ext/fragment/Justification1.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros"><VBox><TextArea id="GenTextArea"  value="{Comments}"\n    rows="5"\n    width= "100%"\n    editable= "true"\n    placeholder= "Enter your justification..."></TextArea></VBox></core:FragmentDefinition>',
	"nfaapproval/ext/fragment/WorkflowHistory.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros"><VBox core:require="{ handler: \'nfaapproval/ext/fragment/WorkflowHistory\'}"><Table  id="sampleTable" \n             items="{\n    path: \'NfaDetailsToNfaWorkflowHistory\',\n    sorter: {\n    path: \'level\',\n    descending: false,\n    group: true},\n    groupHeaderFactory: \'handler.onPress\'\n  }"><columns><Column id="_IDGenColumn2" ><Text id="_IDGenText1" text="Employee Name" /></Column><Column id="_IDGenColumn3" ><Text id="_IDGenText2" text="Employee ID" /></Column><Column id="_IDGenColumn4" mergeDuplicates="true"><Text id="_IDGenText3" text="Status" /></Column><Column id="_IDGenColumn5" mergeDuplicates="true"><Text id="_IDGenText4" text="Approved By" /></Column><Column id="_IDGenColumn6" mergeDuplicates="true"><Text id="_IDGenText5" text="Days Taken" /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem" vAlign="Middle"><cells><Text id="_IDGenText7" text="{EmployeeName}"></Text><Text id="_IDGenText8" text="{EmployeeID}"></Text><Text id="_IDGenText9" text="{Status}"></Text><Text id="_IDGenText10" text="{ApprovedBy}"></Text><Text id="_IDGenText11" text="{DaysTaken}"></Text></cells></ColumnListItem></items></Table></VBox></core:FragmentDefinition>',
	"nfaapproval/i18n/i18n.properties":'# This is the resource bundle for nfaapproval\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=NFA Approval\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n\n#XFLD,36\nnfaapprovalsem-display.flpTitle=NFA Approval\n',
	"nfaapproval/manifest.json":'{"_version":"1.76.0","sap.app":{"id":"nfaapproval","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.18.6","toolsId":"a7cee01c-ee98-46f1-8efe-d8680205b2f9"},"dataSources":{"mainService":{"uri":"/odata/v4/nfa-approval/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"nfaapprovalsem-display":{"semanticObject":"nfaapprovalsem","action":"display","title":"{{nfaapprovalsem-display.flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.140.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"nfaapproval.i18n.i18n","supportedLocales":[""]}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties","settings":{"supportedLocales":[""]}}},"resources":{"css":[]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"NfaDetailsList","target":"NfaDetailsList"},{"pattern":"NfaDetails({key}):?query:","name":"NfaDetailsObjectPage","target":"NfaDetailsObjectPage"},{"name":"NfaDetails_NfaDetailsToNfaVendorDataObjectPage","pattern":"NfaDetails({key})/NfaDetailsToNfaVendorData({NfaDetailsToNfaVendorDataKey}):?query:","target":"NfaDetails_NfaDetailsToNfaVendorDataObjectPage"}],"targets":{"NfaDetailsList":{"type":"Component","id":"NfaDetailsList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/NfaDetails","variantManagement":"Page","navigation":{"NfaDetails":{"detail":{"route":"NfaDetailsObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"GridTable","selectionMode":"None","selectAll":false,"selectionLimit":0,"personalization":{"filter":false}}}},"initialLoad":"Enabled"}}},"NfaDetailsObjectPage":{"type":"Component","id":"NfaDetailsObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/NfaDetails","content":{"body":{"sections":{"Attachments":{"template":"nfaapproval.ext.fragment.Attachments","position":{"placement":"After","anchor":"VendorResponseDetails"},"title":"Attachments"},"WorkflowHistory":{"template":"nfaapproval.ext.fragment.WorkflowHistory","position":{"placement":"After","anchor":"Justification1"},"title":"Workflow History"},"Justification1":{"template":"nfaapproval.ext.fragment.Justification1","position":{"placement":"Before","anchor":"WorkflowHistory"},"title":"Justification","actions":{"commenthistory1":{"press":"nfaapproval.ext.fragment.Justification.onPress","visible":true,"enabled":true,"text":"Comment History"}}}}},"footer":{"actions":{"Approve":{"press":"nfaapproval.ext.controller.Approve.Approve","visible":true,"enabled":true,"text":"Approve"},"Reject":{"press":"nfaapproval.ext.controller.Approve.Reject","visible":true,"enabled":true,"text":"Reject","position":{"placement":"Before","anchor":"Approve"}},"NedForClarification":{"press":"nfaapproval.ext.controller.Approve.NedForClarification","visible":true,"enabled":true,"text":"Need For Clarification","position":{"placement":"Before","anchor":"Reject"}}}}},"navigation":{"NfaDetailsToNfaVendorData":{"detail":{"route":"NfaDetails_NfaDetailsToNfaVendorDataObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.FieldGroup#Justification":{"actions":{"commenthistory":{"press":"nfaapproval.ext.fragment.Justification.onPress","visible":true,"enabled":true,"text":"Comment History"}}},"NfaDetailsToNfaEventHistory/@com.sap.vocabularies.UI.v1.LineItem#EventHistory":{"tableSettings":{"type":"GridTable","personalization":{"filter":false}}},"NfaDetailsToNfaVendorData/@com.sap.vocabularies.UI.v1.LineItem#VendorResponseDetails":{"tableSettings":{"type":"GridTable","personalization":{"filter":false}}}}}}},"NfaDetails_NfaDetailsToNfaVendorDataObjectPage":{"type":"Component","id":"NfaDetails_NfaDetailsToNfaVendorDataObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"navigation":{},"contextPath":"/NfaDetails/NfaDetailsToNfaVendorData","controlConfiguration":{"NfaVendorDataToNfaVendorItemsDetails/@com.sap.vocabularies.UI.v1.LineItem#ItemDetails":{"tableSettings":{"type":"GridTable","personalization":{"filter":false}}}}}}}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.fe.templates.ObjectPage.ObjectPageController#nfaapproval::NfaDetailsObjectPage":{"controllerName":"nfaapproval.ext.controller.ObjectPage"}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"NfaAppRouter"}}'
});
//# sourceMappingURL=Component-preload.js.map
