sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{SendForApproval:async function(t){debugger;let o="validateBeforeSendForApproval";let n=t.getModel().bindContext(`/${o}(...)`);n.setParameter("NfaNumber",t.getObject().NfaNumber);await n.execute();let a=n.getBoundContext();let s=a.getObject();s=JSON.parse(s.value);if(s.length){let e=new sap.m.VBox({height:"auto",style:"margin-bottom: 10px;",items:s.map(e=>new sap.m.MessageStrip({text:e,showCloseButton:true,type:"Information",showIcon:true,type:"Error"}))});let t=new sap.m.Dialog({title:"Error Messages",contentWidth:"400px",type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:e,beginButton:new sap.m.Button({text:"Close",press:function(){t.close()}}),afterClose:function(){t.destroy()}});t.open()}else{let o=new sap.m.Dialog({title:"Warning",contentWidth:"400px",type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Warning,content:new sap.m.Text({text:"Sending this for approval is final. Are you sure you want to proceed?"}),beginButton:new sap.m.Button({type:sap.m.ButtonType.Emphasized,text:"OK",press:async function(){debugger;let n="sendForApproval";let a=t.getModel().bindContext(`/${n}(...)`);a.setParameter("NfaNumber",t.getObject().NfaNumber);await a.execute();let s=a.getBoundContext();let r=s.getObject();o.close();e.show("Successfully submitted for approval.");window.location.reload()}}),endButton:new sap.m.Button({text:"Cancel",press:function(){debugger;o.close();e.show("Approval request not sent.")}})});o.open()}}}});
//# sourceMappingURL=SendForApproval.js.map