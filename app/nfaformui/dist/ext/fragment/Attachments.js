sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onAfterItemAdded:async function(e){debugger;var t=e.getParameter("item");let a=e.getParameter("item").getFileObject();let n=this.getRouting().getView().getBindingContext().getModel().bindList("NfaDetailsToNfaAttachments",this.getRouting().getView().getBindingContext());let i=n.create({FileName:a.name,Size:a.size,MediaType:a.type},true);console.log("Context created:",i);i.created().then(()=>{debugger;let e=i.getObject();var a=i.getModel().getServiceUrl()+i.getPath().slice(1)+"/Content";debugger;t.setUploadUrl(a);var n=this.byId("uploadSet");n.uploadItem(t)}).catch(e=>{debugger;console.error("Error during create:",e);sap.m.MessageToast.show("Error: "+e.message)})},onUploadCompleted:async function(e){debugger;var t=this.byId("uploadSet");setTimeout(async()=>{await t.getBindingContext().getBinding().refresh()},2e3);await t.getBindingContext().getBinding().refresh()},onRemovePressed:function(t){debugger;t.preventDefault();if(!this.getBindingContext().getObject().IsActiveEntity){t.getParameter("item").getBindingContext().delete();e.show("Selected file has been deleted");t.getParameter("item").destroy()}},formatThumbnailUrl:function(e){var t;switch(e){case"image/png":t="sap-icon://card";break;case"text/plain":t="sap-icon://document-text";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":t="sap-icon://excel-attachment";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":t="sap-icon://doc-attachment";break;case"application/pdf":t="sap-icon://pdf-attachment";break;default:t="sap-icon://attachment"}return t}}});
//# sourceMappingURL=Attachments.js.map